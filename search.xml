<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vue事件总线（EventBus）使用介绍</title>
      <link href="/2019/10/18/Vue%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%EF%BC%88EventBus%EF%BC%89%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/"/>
      <url>/2019/10/18/Vue%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%EF%BC%88EventBus%EF%BC%89%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<p>Vue事件总线（EventBus）使用介绍</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="Vue事件总线（EventBus）使用介绍"><a href="#Vue事件总线（EventBus）使用介绍" class="headerlink" title="Vue事件总线（EventBus）使用介绍"></a>Vue事件总线（EventBus）使用介绍</h2><h3 id="子组件向父组件通信"><a href="#子组件向父组件通信" class="headerlink" title="子组件向父组件通信"></a>子组件向父组件通信</h3><p>可以使用 <code>v-on</code> 监听子组件上 <code>$emit</code> 的变化</p><p>父组件引用代码：</p><pre class="line-numbers language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 监听子组件上 title-changed 变化 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">@title-changed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>updateTitle($event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-js"><code class="language-js">updateTitle <span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>子组件上定义<code>$emit</code>：</p><pre class="line-numbers language-js"><code class="language-js"><span class="token function">changeTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 子组件向父组件传值 $emit("传值名字", "内容")</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"title-changed"</span><span class="token punctuation">,</span> <span class="token string">"子组件向父组件传值"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>关于<a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E4%BA%8B%E4%BB%B6%E5%90%8D" target="_blank" rel="noopener">事件名</a>的命名方式，官方推荐采用 kebab-case 命名</p><blockquote><p>不同于组件和 prop，事件名不会被用作一个 JavaScript 变量名或属性名，所以就没有理由使用 camelCase 或 PascalCase 了。</p><p>推荐<strong>始终使用 kebab-case 的事件名</strong></p></blockquote><h3 id="事件总线（EventBus）"><a href="#事件总线（EventBus）" class="headerlink" title="事件总线（EventBus）"></a>事件总线（EventBus）</h3><p>跨多层父子组件通信，可以通过单独的事件中心管理组件间的通信，在组件中，可以使用 <code>$emit</code>, <code>$on</code>, <code>$off</code> 分别来分发、监听、取消监听事件</p><h4 id="创建事件中心"><a href="#创建事件中心" class="headerlink" title="创建事件中心"></a>创建事件中心</h4><ul><li>在 <code>src</code> 中创建 <code>eventBus.ts</code> 文件</li></ul><pre class="line-numbers language-ts"><code class="language-ts"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 在要用的地方</span><span class="token comment" spellcheck="true">// 引入 eventBus</span><span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">'../eventBus'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 使用</span>eventBus<span class="token punctuation">.</span>XXX<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>另外一种方式，在项目中的 <code>@/index.ts</code> 或 <code>main.ts</code> 初始化 EventBus</li></ul><pre class="line-numbers language-ts"><code class="language-ts">Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 在要用的地方</span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span>XXX<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>注意，这种方式初始化的 EventBus 是一个全局的事件总线。</p></blockquote><h4 id="发送事件"><a href="#发送事件" class="headerlink" title="发送事件"></a>发送事件</h4><pre class="line-numbers language-ts"><code class="language-ts"><span class="token comment" spellcheck="true">// 发送消息</span>EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span>channel<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token function">callback</span><span class="token punctuation">(</span>payload1<span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>A.vue</p><pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"sendMsg"</span><span class="token operator">></span>点击发送事件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> <span class="token punctuation">{</span> EventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../eventBus"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"a-msg"</span><span class="token punctuation">,</span> <span class="token string">'来自A页面的消息'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="接收事件"><a href="#接收事件" class="headerlink" title="接收事件"></a>接收事件</h4><pre class="line-numbers language-ts"><code class="language-ts"><span class="token comment" spellcheck="true">// 监听接收消息</span>EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>channel<span class="token punctuation">:</span> <span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token function">callback</span><span class="token punctuation">(</span>payload1<span class="token punctuation">,</span>…<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>B.vue</p><pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>  <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> <span class="token punctuation">{</span> EventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../eventBus"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      msg<span class="token punctuation">:</span> <span class="token string">''</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"a-msg"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">// A 发送来的消息</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="移除事件监听者"><a href="#移除事件监听者" class="headerlink" title="移除事件监听者"></a>移除事件监听者</h4><p>通常会在 Vue 页面销毁时，同时移除 EventBus 事件监听</p><p>B.vue</p><pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token operator">...</span>  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 这是一个全局的事件总线，不需要引入</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">'a-msg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用-vue-happy-bus-移除事件监听者"><a href="#使用-vue-happy-bus-移除事件监听者" class="headerlink" title="使用 vue-happy-bus 移除事件监听者"></a>使用 vue-happy-bus 移除事件监听者</h4><p>它主要解决在非父子组件间通信时，解决重复绑定事件、无法自动销毁的而导致回调函数被执行多次的问题</p><pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// npm</span>npm install vue<span class="token operator">-</span>happy<span class="token operator">-</span>bus <span class="token operator">--</span>save<span class="token comment" spellcheck="true">//main.js中引用</span><span class="token comment" spellcheck="true">//bus状态管理</span><span class="token keyword">import</span> BusFactory <span class="token keyword">from</span> <span class="token string">'vue-happy-bus'</span><span class="token comment" spellcheck="true">//使用全局变量引用</span>Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$BusFactory<span class="token operator">=</span>BusFactory<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 这里注意一点每个使用 Bus 的组件中都要在 data 中注册这个事件 Bus:this.$BusFactory(this) 这样才能调用其中这个 this 指向 vue 原型</span><span class="token comment" spellcheck="true">// a.vue中引用</span><span class="token operator">...</span>data<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  Bus<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$BusFactory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//在点击事件上执行这个方法就能传递参数</span>  click_me<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>Bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"clear_me"</span><span class="token punctuation">,</span> <span class="token string">"clear_me"</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// b.vue</span><span class="token operator">...</span><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>Bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"clear_me"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>em<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>em<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul><li><a href="https://blog.csdn.net/i168wintop/article/details/95107935" target="_blank" rel="noopener">Vue事件总线（EventBus）使用详细介绍</a></li><li><a href="https://juejin.im/post/5b3db678e51d45199060d478" target="_blank" rel="noopener">Vue EventBus 使用中的重复触发解决方案及存在的Bug</a></li><li><a href="https://github.com/tangdaohai/vue-happy-bus" target="_blank" rel="noopener">vue-happy-bus</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EventBus </tag>
            
            <tag> 子组件向父组件通信 </tag>
            
            <tag> 兄弟组件通信 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue子组件内改变prop报错的解决方案</title>
      <link href="/2019/10/15/Vue%E5%AD%90%E7%BB%84%E4%BB%B6%E5%86%85%E6%94%B9%E5%8F%98prop%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
      <url>/2019/10/15/Vue%E5%AD%90%E7%BB%84%E4%BB%B6%E5%86%85%E6%94%B9%E5%8F%98prop%E6%8A%A5%E9%94%99%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<p>Vue子组件内改变prop报错的解决方案</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="Vue子组件内改变prop报错的解决方案"><a href="#Vue子组件内改变prop报错的解决方案" class="headerlink" title="Vue子组件内改变prop报错的解决方案"></a>Vue子组件内改变prop报错的解决方案</h2><p><a href="https://cn.vuejs.org/v2/guide/components-props.html#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81" target="_blank" rel="noopener">单项数据流</a></p><blockquote><p>所有的 prop 都使得其父子 prop 之间形成了一个<strong>单向下行绑定</strong>：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</p><p>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你<strong>不应该</strong>在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</p></blockquote><p>Vue警告</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>Vue warn<span class="token punctuation">]</span>: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: <span class="token string">"isLoading"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><h4 id="这个-prop-用来传递一个初始值"><a href="#这个-prop-用来传递一个初始值" class="headerlink" title="这个 prop 用来传递一个初始值"></a>这个 prop 用来传递一个初始值</h4><p>这个子组件接下来希望将其作为一个本地的 prop 数据来使用。在这种情况下，最好定义一个本地的 data 属性并将这个 prop 用作其初始值：</p><pre class="line-numbers language-js"><code class="language-js">props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'initialCounter'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>data<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span>    counter<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialCounter <span class="token comment" spellcheck="true">// 子组件操作 counter</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="这个-prop-以一种原始的值传入且需要进行转换"><a href="#这个-prop-以一种原始的值传入且需要进行转换" class="headerlink" title="这个 prop 以一种原始的值传入且需要进行转换"></a>这个 prop 以一种原始的值传入且需要进行转换</h4><p>在这种情况下，最好使用这个 prop 的值来定义一个计算属性：</p><pre class="line-numbers language-js"><code class="language-js">props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>  normalizedSize<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="利用-sync-修饰符"><a href="#利用-sync-修饰符" class="headerlink" title="利用 .sync 修饰符"></a>利用 <code>.sync</code> 修饰符</h4><p><code>.sync</code> 相当于对一个 prop 进行“双向绑定”</p><p>父组件引用代码：</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">:foo.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>会被拓展成：</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">:foo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>foo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>val <span class="token punctuation">=</span><span class="token punctuation">></span> bar <span class="token punctuation">=</span> val<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 即 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">:foo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>foo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bar <span class="token punctuation">=</span> $event<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>当子组件需要更新 foo 的值时，它只需要显式地触发一个更新事件：</p><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:foo'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>注意带有 <code>.sync</code> 修饰符的 <code>v-bind</code> 不能和表达式一起使用 (例如 <code>:title.sync=”doc.title + ‘!’”</code> 是无效的)。取而代之的是，你只能提供你想要绑定的<strong>属性名(即，变量名称)</strong>，类似 <code>v-model</code>。</p><p>当我们用一个对象同时设置多个 prop 的时候，也可以将这个 <code>.sync</code> 修饰符和 <code>v-bind</code> 配合使用：</p><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comp</span> <span class="token attr-name">v-bind.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>doc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comp</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这样会把 <code>doc</code> 对象中的每一个属性 (如 <code>title</code>) 都作为一个独立的 prop 传进去，然后各自添加用于更新的 <code>v-on</code> 监听器。</p><h4 id="数组或对象的-prop，传递的是引用"><a href="#数组或对象的-prop，传递的是引用" class="headerlink" title="数组或对象的 prop，传递的是引用"></a>数组或对象的 prop，传递的是引用</h4><p>当 prop 是对象的时候，传给子组件的是该对象的引用，类似于指针的一个东西，指向内存中的一个数据空间。</p><p>而子组件通过 <code>objectName.prop</code> 去操作该 <code>object</code> 的时候，更改了内存空间的数据，但是并没有更改内存空间的位置，指针仍然是指向这块内存空间的，所以不会有警告报错。</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 报错 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端调试方法</title>
      <link href="/2019/09/09/%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/"/>
      <url>/2019/09/09/%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>一些前端调试方法</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="console"><a href="#console" class="headerlink" title="console"></a>console</h2><h3 id="log"><a href="#log" class="headerlink" title="log"></a>log</h3><p><code>console.log()</code> 用于在控制台输出信息。参数类型 String 或 Object</p><h3 id="info-warn-error"><a href="#info-warn-error" class="headerlink" title="info, warn, error"></a>info, warn, error</h3><p>这三个 API 更多的是给开发人员提供额外的信息，来查看页面的运行情况，更多用于被封装过后的组件或框架中。</p><pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// Info</span>console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Hi, This is message'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// warning 警告</span>console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'On, Your operation may cause a security breach!'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// Error 报错</span>console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Shit! Variable does not exist!'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="table"><a href="#table" class="headerlink" title="table"></a>table</h3><p><code>console.table()</code>只接受一个数组或者对象, 可以接受一个额外的参数来描述表格的列数。它会把数据通过表格的形式打印出来, 这样我们看数据的时候就能直观了很多。</p><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tome'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'baka'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="group"><a href="#group" class="headerlink" title="group"></a>group</h3><p><code>console.group()</code> 和 <code>console.groupEnd()</code> 是成对出现的，就像我们使用的标签一样。<br><code>console.group()</code>在控制台创建一个新的分组, 输出到控制台上的内容都会被添加一个缩进, 表示该内容属于当前分组, 直到调用 <code>console.group()</code> 之后, 当前分组才结束。</p><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> boys <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">12</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Rose'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>boys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`This is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>age <span class="token operator">*</span> <span class="token number">7</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">groupEnd</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>原文出自：<a href="https://zhuanlan.zhihu.com/p/80641572" target="_blank" rel="noopener">作者：anran758</a> 来源：知乎</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 前端工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo&amp;github创建个人博客</title>
      <link href="/2018/11/07/hexo&amp;github%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/11/07/hexo&amp;github%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>利用 hexo 和 github 搭载个人博客</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul><li>安装了 node.js, npm, 并会使用</li><li>了解git</li></ul><h2 id="配置-SSH-key"><a href="#配置-SSH-key" class="headerlink" title="配置 SSH key"></a>配置 SSH key</h2><ul><li><p>用 git 或者 cmder 等命令行工具执行：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> ~/. <span class="token function">ssh</span> <span class="token comment" spellcheck="true"># 检查本机已存在的ssh密钥</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果显示 <code>No such file or directory</code> 说明还未设置过 SSH key</p></li><li><p>执行：</p><pre class="line-numbers language-bash"><code class="language-bash">ssh-keygen -t rsa -C <span class="token string">"邮件地址"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后持续回车, 最后会生成一个文件在 <code>.ssh\id_rsa.pub</code> 中, 用记事本打开该文件, 复制里面的内容。</p></li><li><p>打开你的 github 主页, 进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key</p></li><li><p>将刚复制的内容粘贴到 key 那里, title 取个自己喜欢的, 然后保存。</p></li><li><p>测试是否成功</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ssh</span> -T git@github.com <span class="token comment" spellcheck="true"># 注意邮箱地址不用改</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>如果提示 <code>Are you sure you want to continue connecting (yes/no)?</code> , 输入yes, 然后就会提示 <code>...You’ve successfully authenticated, but GitHub does not provide shell access.</code>, 就是成功了。</p></li><li><p>配置 git 用户名和邮箱</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global user.name <span class="token string">"username"</span><span class="token function">git</span> config --global user.email  <span class="token string">"email"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><ul><li>创建 github 账号</li><li>创建 github 个人项目 <code>username.github.io</code></li><li>创建分支 hexo</li><li>设置 hexo 为默认分支</li><li>使用 <code>git clone git@github.com:username/username.github.io.git</code> 拷贝仓库</li></ul><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><p><a href="http://hexo.io" target="_blank" rel="noopener">hexo官网</a></p><p><a href="https://github.com/hexojs/hexo" target="_blank" rel="noopener">hexo github</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># npm 安装</span><span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>在刚刚 <code>git clone</code> 的这个文件夹中, 执行：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 此时当前分支应显示为 hexo</span><span class="token function">npm</span> <span class="token function">install</span> hexohexo init<span class="token function">npm</span> <span class="token function">install</span><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>执行以上命令之后, hexo 就会在文件夹中生成博客相关文件</p><h3 id="将-hexo-部署到-username-github-io"><a href="#将-hexo-部署到-username-github-io" class="headerlink" title="将 hexo 部署到 username.github.io"></a>将 hexo 部署到 username.github.io</h3><p>在 <code>_config.yml</code> 中修改：</p><pre class="line-numbers language-yml"><code class="language-yml">deploy:  type: git  repository: git@github.com:shmilybaozi/shmilybaozi.github.io.git  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">hexo g <span class="token comment" spellcheck="true"># hexo generate 生成静态文件</span>hexo g -d <span class="token comment" spellcheck="true"># 文件生成后立即部署网站</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><p>一些 hexo 命令</p><pre class="line-numbers language-bash"><code class="language-bash">hexo new <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">></span> <span class="token comment" spellcheck="true"># 新建一篇文章, 如果标题包含空格的话, 请使用引号括起来。layout 为 draft 即为草稿</span>hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>filename<span class="token operator">></span> <span class="token comment" spellcheck="true"># 发表草稿, 如果标题包含空格的话, 请使用引号括起来。</span>hexo g <span class="token comment" spellcheck="true"># hexo generate 生成静态文件</span>hexo g -d <span class="token comment" spellcheck="true"># 文件生成后立即部署网站</span>hexo s <span class="token comment" spellcheck="true"># hexo server 启动服务器</span>hexo d <span class="token comment" spellcheck="true"># hexo deploy 部署网站</span>hexo clean <span class="token comment" spellcheck="true"># 清除缓存</span>hexo s --debug <span class="token comment" spellcheck="true"># 调试模式, 更改了配置或文章后随时刷新页面来查看效果</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="部署文章的步骤"><a href="#部署文章的步骤" class="headerlink" title="部署文章的步骤"></a>部署文章的步骤</h3><pre class="line-numbers language-bash"><code class="language-bash">hexo clean <span class="token comment" spellcheck="true"># 清除缓存</span>hexo g -d <span class="token comment" spellcheck="true"># 文件生成后立即部署网站</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="将-hexo-中的代码提交到-git-上"><a href="#将-hexo-中的代码提交到-git-上" class="headerlink" title="将 hexo 中的代码提交到 git 上"></a>将 hexo 中的代码提交到 git 上</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> add <span class="token keyword">.</span><span class="token function">git</span> commit -m <span class="token string">"..."</span><span class="token function">git</span> push origin hexo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>这样一来, 在 github 上的 <code>username.github.io</code> 仓库就有两个分支, 一个 <code>hexo</code> 分支用来存放网站的原始文件, 一个 <code>master</code> 分支用来存放生成的静态网页。</p><p>访问 <code>username.github.io</code> 就能看到个人博客的样子。</p>]]></content>
      
      
      <categories>
          
          <category> 前端工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo文章模板设置</title>
      <link href="/2018/11/05/hexo%E6%96%87%E7%AB%A0%E6%A8%A1%E6%9D%BF%E8%AE%BE%E7%BD%AE/"/>
      <url>/2018/11/05/hexo%E6%96%87%E7%AB%A0%E6%A8%A1%E6%9D%BF%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>hexo文章模板设置</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="hexo文章模板设置"><a href="#hexo文章模板设置" class="headerlink" title="hexo文章模板设置"></a>hexo文章模板设置</h2><p>hexo 项目文件夹中的 scaffold 文件夹中的 <code>post.md</code> 和 <code>draft.md</code></p><p>对应就是 <code>hexo new [layout] &lt;title&gt;</code> 中的 <code>layout</code> , 默认为 <code>post</code>, 草稿为 <code>draft</code>, 如果标题包含空格的话，请使用引号括起来。</p><pre class="line-numbers language-bash"><code class="language-bash">---title: <span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span>tags:categories:description:date: <span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">date</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>---点击阅读前文前, 首页能看到的文章的简短描述<span class="token operator">&lt;</span><span class="token operator">!</span>-- <span class="token function">more</span> --<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span>-- markdownlint-disable MD041 MD002--<span class="token operator">></span> <span class="token comment" spellcheck="true"># 防止 markdownlint 报错</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="hexo-草稿"><a href="#hexo-草稿" class="headerlink" title="hexo 草稿"></a>hexo 草稿</h2><p>Hexo 的一种特殊布局：<code>draft</code>, 这种布局在建立时会被保存到 <code>source/_drafts</code> 文件夹, 您可通过 <code>publish</code> 命令将草稿移动到 <code>source/_posts</code> 文件夹。</p><p>该命令的使用方式与 <code>new</code> 十分类似, 您也可在命令中指定 <code>layout</code> 来指定布局。</p><pre class="line-numbers language-js"><code class="language-js">hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">></span> # 发表草稿<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>草稿默认不会显示在页面中, 您可在执行时加上 <code>--draft</code> 参数, 或是把 <code>render_drafts</code> 参数设为 <code>true</code> 来预览草稿。</p><h2 id="hexo-分类和标签"><a href="#hexo-分类和标签" class="headerlink" title="hexo 分类和标签"></a>hexo 分类和标签</h2><p><strong>分类(categories)</strong>具有顺序性和层次性。Hexo 不支持指定多个同级分类。</p><p><strong>标签(tags)</strong>没有顺序和层次。</p><pre class="line-numbers language-yml"><code class="language-yml">categories:- Diary- Lifetags:- PS3- Games<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以上会使分类 <code>Life</code> 成为 <code>Diary</code> 的子分类, 而不是并列分类。</p><p>因此，有必要为您的文章选择<strong>尽可能准确的一个分类(categories)</strong></p>]]></content>
      
      
      <categories>
          
          <category> 前端工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue中使用 Webpack总结</title>
      <link href="/2018/08/07/Vue%E4%B8%AD%E4%BD%BF%E7%94%A8Webpack%E6%80%BB%E7%BB%93/"/>
      <url>/2018/08/07/Vue%E4%B8%AD%E4%BD%BF%E7%94%A8Webpack%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>Webpack 打包工具(模块打包器)</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="Webpack结构"><a href="#Webpack结构" class="headerlink" title="Webpack结构"></a>Webpack结构</h2><p>Vue中 关于Webpack的配置文件有四个: (vue-cli版本@2.9.6)</p><ul><li>build文件夹<ul><li>webpack.base.conf.js 主要配置文件</li><li>webpack.dev.conf.js 开发环境配置文件</li><li>webpack.prod.conf.js 生产环境配置文件</li><li>webpack.test.conf.js 需要单元测试时的配置文件(不选择单元测试则没有该文件)</li></ul></li></ul><h2 id="webpack-base-conf-js"><a href="#webpack-base-conf-js" class="headerlink" title="webpack.base.conf.js"></a>webpack.base.conf.js</h2><pre class="line-numbers language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./utils'</span><span class="token punctuation">)</span><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../config'</span><span class="token punctuation">)</span><span class="token keyword">const</span> vueLoaderConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./vue-loader.conf'</span><span class="token punctuation">)</span><span class="token keyword">function</span> resolve <span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">const</span> createLintingRule <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>  test<span class="token punctuation">:</span> <span class="token regex">/\.(js|vue)$/</span><span class="token punctuation">,</span>  loader<span class="token punctuation">:</span> <span class="token string">'eslint-loader'</span><span class="token punctuation">,</span>  enforce<span class="token punctuation">:</span> <span class="token string">'pre'</span><span class="token punctuation">,</span>  include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  options<span class="token punctuation">:</span> <span class="token punctuation">{</span>    formatter<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-friendly-formatter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    emitWarning<span class="token punctuation">:</span> <span class="token operator">!</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>showEslintErrorsInOverlay  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 基础目录，绝对路径，用于从配置中解析入口起点(entry point)和 loader</span>  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 入口配置: 可以配置多入口</span>  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>    app<span class="token punctuation">:</span> <span class="token string">'./src/main.js'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 出口配置</span>  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 出口路径: path必须是绝对路径</span>    path<span class="token punctuation">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 出口文件名</span>    filename<span class="token punctuation">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// [name]即入口名称</span>    <span class="token comment" spellcheck="true">// 对于按需加载(on-demand-load)或加载外部资源(external resources)（如图片、文件等）来说，output.publicPath 是很重要的选项。</span>    <span class="token comment" spellcheck="true">// 该选项的值是以 runtime(运行时) 或 loader(载入时) 所创建的每个 URL 为前缀。因此，在多数情况下，此选项的值都会以/结束。</span>    <span class="token comment" spellcheck="true">// 可能以下情况中的一种:</span>    publicPath<span class="token punctuation">:</span> <span class="token string">'https://cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// CDN（总是 HTTPS 协议）</span>    publicPath<span class="token punctuation">:</span> <span class="token string">'//cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token operator">/</span><span class="token operator">/</span> CDN（协议相同）    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 相对于服务(server-relative)</span>    publicPath<span class="token punctuation">:</span> <span class="token string">'assets/'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 相对于 HTML 页面</span>    publicPath<span class="token punctuation">:</span> <span class="token string">'../assets/'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 相对于 HTML 页面</span>    publicPath<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 相对于 HTML 页面（目录相同）</span>    <span class="token comment" spellcheck="true">// Vue中: 判断环境变量的值,去对应的环境变量中寻找设置 config 文件夹中的 index.js</span>    publicPath<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>NODE_ENV <span class="token operator">===</span> <span class="token string">'production'</span>      <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsPublicPath <span class="token comment" spellcheck="true">// 默认为"/"，一般会修改为"./"</span>      <span class="token punctuation">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath <span class="token comment" spellcheck="true">// 默认为"/"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 配置模块如何解析</span>  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 自动解析确定的扩展: 能够使用户在引入模块时不带扩展</span>    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 创建 import 或 require 的别名，来确保模块引入变得更简单。</span>    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>      <span class="token string">'vue$'</span><span class="token punctuation">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 在给定对象的键后的末尾添加 $,以表示精准匹配: 必须以 XXX 结尾</span>      <span class="token string">'@'</span><span class="token punctuation">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// js文件!!!中 @ 即表示为 src 文件夹, html 和 css 路径中不是</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 决定如何处理项目中的不同类型的模块</span>  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 创建模块时，匹配请求的规则数组。这些规则能够修改模块的创建方式。这些规则能够对模块(module)应用 loader，或者修改解析器(parser)</span>    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token operator">...</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>useEslint <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLintingRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>        loader<span class="token punctuation">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>        options<span class="token punctuation">:</span> vueLoaderConfig      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>        loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>        include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'node_modules/webpack-dev-server/client'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpe?g|gif|svg)(\?.*)?$/</span><span class="token punctuation">,</span>        loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>          name<span class="token punctuation">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">'img/[name].[hash:7].[ext]'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/</span><span class="token punctuation">,</span>        loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>          name<span class="token punctuation">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">'media/[name].[hash:7].[ext]'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        test<span class="token punctuation">:</span> <span class="token regex">/\.(woff2?|eot|ttf|otf)(\?.*)?$/</span><span class="token punctuation">,</span>        loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>          name<span class="token punctuation">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">'fonts/[name].[hash:7].[ext]'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  node<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// prevent webpack from injecting useless setImmediate polyfill because Vue</span>    <span class="token comment" spellcheck="true">// source contains it (although only uses it if it's native).</span>    setImmediate<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// prevent webpack from injecting mocks to Node native modules</span>    <span class="token comment" spellcheck="true">// that does not make sense for the client</span>    dgram<span class="token punctuation">:</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>    fs<span class="token punctuation">:</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>    net<span class="token punctuation">:</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>    tls<span class="token punctuation">:</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>    child_process<span class="token punctuation">:</span> <span class="token string">'empty'</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在最新的 vue-cli 3.0 中, webpack 中的设置都隐藏到了 vue 内部, 通过设置 <code>vue.config.js</code> 来覆盖相关 webpack 设置</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>path.join 和 path.resolve区别</title>
      <link href="/2018/08/06/path.join%E5%92%8Cpath.resolve%E5%8C%BA%E5%88%AB/"/>
      <url>/2018/08/06/path.join%E5%92%8Cpath.resolve%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<p>path.join &amp; path.resolve</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="path-join-path1-path2-…"><a href="#path-join-path1-path2-…" class="headerlink" title="path.join([path1][, path2][, …])"></a>path.join([path1][, path2][, …])</h2><p><code>path.join()</code>: 连接任意多个路径字符串。</p><p>注：如果连接后的路径字符串是一个长度为零的字符串, 则返回 <code>&#39;.&#39;</code>, 表示当前工作目录。</p><pre class="line-numbers language-js"><code class="language-js">path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 返回</span><span class="token string">'/foo/bar/baz'</span><span class="token comment" spellcheck="true">// 不合法的字符串将抛出异常</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 抛出的异常</span>TypeError<span class="token punctuation">:</span> Arguments to path<span class="token punctuation">.</span>join must be strings'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="path-resolve-from…-to"><a href="#path-resolve-from…-to" class="headerlink" title="path.resolve([from…], to)"></a>path.resolve([from…], to)</h2><p><code>path.resolve()</code>: 将多个路径解析为一个规范化的绝对路径。</p><p>其处理方式类似于对这些路径逐一进行 <code>cd</code> 操作, 与 <code>cd</code> 操作不同的是, 这引起路径可以是文件, 并且可不必实际存在（<code>resolve()</code>方法不会利用底层的文件系统判断路径是否存在, 而只是进行路径字符串操作。）</p><p><code>path.resolve(&#39;foo/bar&#39;, &#39;/tmp/file/&#39;, &#39;..&#39;, &#39;a/../subFile&#39;)</code> 相当于:</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">cd</span> foo/bar<span class="token function">cd</span> /tmp/file/<span class="token function">cd</span> <span class="token punctuation">..</span><span class="token function">cd</span> a/<span class="token punctuation">..</span>/subFile<span class="token function">pwd</span><span class="token comment" spellcheck="true"># Linux pwd命令用于显示工作目录。执行 pwd 指令可立刻得知您目前所在的工作目录的绝对路径名称。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-js"><code class="language-js">path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'/foo/bar'</span><span class="token punctuation">,</span> <span class="token string">'./baz'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 输出结果为</span><span class="token string">'/foo/bar/baz'</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'/foo/bar'</span><span class="token punctuation">,</span> <span class="token string">'/tmp/file/'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 输出结果为</span><span class="token string">'/tmp/file'</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'wwwroot'</span><span class="token punctuation">,</span> <span class="token string">'static_files/png/'</span><span class="token punctuation">,</span> <span class="token string">'../gif/image.gif'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 当前的工作路径是 /home/myself/node, 则输出结果为</span><span class="token string">'/home/myself/node/wwwroot/static_files/gif/image.gif'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="两者的区别"><a href="#两者的区别" class="headerlink" title="两者的区别"></a>两者的区别</h2><ul><li><code>join</code> 是把各个 path 片段连接在一起， <code>resolve</code> 把<code>&#39;/&#39;</code> 当成根目录</li></ul><pre class="line-numbers language-js"><code class="language-js">path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'/a'</span><span class="token punctuation">,</span> <span class="token string">'/b'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// '/a/b'</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'/a'</span><span class="token punctuation">,</span> <span class="token string">'/b'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// '/b'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>join</code> 直接拼接字段，<code>resolve</code> 解析路径并返回绝对路径</li></ul><pre class="line-numbers language-js"><code class="language-js">path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b1'</span><span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 'a/b2'</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b1'</span><span class="token punctuation">,</span> <span class="token string">'..'</span><span class="token punctuation">,</span> <span class="token string">'b2'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// '/home/myself/node/a/b2'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git更新与推送流程</title>
      <link href="/2018/07/29/Git%E6%9B%B4%E6%96%B0%E4%B8%8E%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/"/>
      <url>/2018/07/29/Git%E6%9B%B4%E6%96%B0%E4%B8%8E%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>Git更新与推送流程</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="Git更新与推送流程"><a href="#Git更新与推送流程" class="headerlink" title="Git更新与推送流程"></a>Git更新与推送流程</h2><ul><li>设置主仓库地址</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> remote add upstream https://repo-address<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>获取主仓库最新提交</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> pull upstream<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>将主仓库的 <code>master</code> 分支合并到本地的 <code>master</code> 分支</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> merge upstream/master master<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>解决冲突并提交合并</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> commit -a -m <span class="token string">'merge upstream master'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>推送至远程仓库</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> push<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>提交Pull Request</li></ul><h2 id="自定义Git"><a href="#自定义Git" class="headerlink" title="自定义Git"></a>自定义Git</h2><h3 id="让Git显示颜色"><a href="#让Git显示颜色" class="headerlink" title="让Git显示颜色"></a>让Git显示颜色</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global color.ui <span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h3><ul><li><code>git st</code>表示<code>git status</code></li><li><code>git co</code>表示<code>git checkout</code></li><li><code>git ci</code>表示<code>git commit</code></li><li><code>git br</code>表示<code>git branch</code></li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global alias.st status<span class="token function">git</span> config --global alias.co checkout<span class="token function">git</span> config --global alias.ci commit<span class="token function">git</span> config --global alias.br branch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>命令<code>git reset HEAD file</code>可以把暂存区的修改撤销掉（unstage），重新放回工作区。既然是一个unstage操作，就可以配置一个unstage别名：</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global alias.unstage <span class="token string">'reset HEAD'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>配置一个<code>git last</code>，让其显示最后一次提交信息：</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global alias.last <span class="token string">'log -1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>还有人丧心病狂地把<code>lg</code>配置成了：</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> config --global alias.lg <span class="token string">"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an>%Creset' --abbrev-commit"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><p>配置Git的时候，加上<code>--global</code>是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。<br>配置文件放哪了?每个仓库的Git配置文件都放在<code>.git/config</code>文件中<br>而当前用户的Git配置文件放在用户主目录下的一个隐藏文件<code>.gitconfig</code>中<br>别名就在<code>[alias]</code>后面，要删除别名，直接把对应的行删掉即可。<br>配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置。</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>alias<span class="token punctuation">]</span>  st <span class="token operator">=</span> status  co <span class="token operator">=</span> checkout  ci <span class="token operator">=</span> commit  br <span class="token operator">=</span> branch  unstage <span class="token operator">=</span> reset HEAD  last <span class="token operator">=</span> log -1  lg <span class="token operator">=</span> log --color --graph --pretty<span class="token operator">=</span>format:<span class="token string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an>%Creset'</span> --abbrev-commit  up <span class="token operator">=</span> upstream  og <span class="token operator">=</span> origin  ms <span class="token operator">=</span> master  mg <span class="token operator">=</span> merge  plp <span class="token operator">=</span> pull upstream  mgums <span class="token operator">=</span> merge upstream/master master  rap <span class="token operator">=</span> remote add upstream  rag <span class="token operator">=</span> remote add origin  psg <span class="token operator">=</span> push -u origin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>src目录结构分析</title>
      <link href="/2018/07/08/src%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/"/>
      <url>/2018/07/08/src%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<p>src目录结构及命名原则分析</p><a id="more"></a><!-- markdownlint-disable MD002 MD041--><h2 id="src目录结构分析"><a href="#src目录结构分析" class="headerlink" title="src目录结构分析"></a>src目录结构分析</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token keyword">.</span>├── adapter <span class="token comment" spellcheck="true"># 适配器,处理拿到的数据,整理成对象或者别的能直接使用的数据</span><span class="token operator">|</span>   ├── report.js <span class="token comment" spellcheck="true"># (驼峰命名：与api命名一致)</span><span class="token operator">|</span>   └── selectPhoneNumber.js <span class="token comment" spellcheck="true"># (驼峰命名: 与api命名一致)</span><span class="token operator">|</span>├── api <span class="token comment" spellcheck="true"># 通过后台接口拿到数据</span><span class="token operator">|</span>   ├── report.js <span class="token comment" spellcheck="true"># (驼峰命名)</span><span class="token operator">|</span>   └── selectPhoneNumber.js <span class="token comment" spellcheck="true"># (驼峰命名)</span><span class="token operator">|</span>├── assets <span class="token comment" spellcheck="true"># 存放图片</span><span class="token operator">|</span>├── components <span class="token comment" spellcheck="true"># 组件,通过在 views 中的 vue 文件的调用并传入数据,然后渲染在页面中,复用性强</span><span class="token operator">|</span>   ├── AreaCard.vue <span class="token comment" spellcheck="true">#  (Pascal命名)</span><span class="token operator">|</span>   ├── Chart.vue<span class="token operator">|</span>   └── Entry.vue<span class="token operator">|</span>├── router <span class="token comment" spellcheck="true"># 路由</span><span class="token operator">|</span>   └── index.js<span class="token operator">|</span>├── store <span class="token comment" spellcheck="true"># vuex</span><span class="token operator">|</span>   ├── modules <span class="token comment" spellcheck="true"># vuex模块</span><span class="token operator">|</span>   <span class="token operator">|</span>   ├── clothesSize.js <span class="token comment" spellcheck="true"># (驼峰命名)</span><span class="token operator">|</span>   <span class="token operator">|</span>   ├── login.js<span class="token operator">|</span>   <span class="token operator">|</span>   └── user.js<span class="token operator">|</span>   └── index.js<span class="token operator">|</span>├── util <span class="token comment" spellcheck="true"># 自己封装的 js</span><span class="token operator">|</span>   ├── fetch.js<span class="token operator">|</span>   └── index.js<span class="token operator">|</span>└── views <span class="token comment" spellcheck="true"># 页面展示</span>    ├── Report.vue <span class="token comment" spellcheck="true"># (Pascal命名: 与api命名一致)</span>    ├── Dormitory    <span class="token operator">|</span>   ├── DormitoryStudent.vue <span class="token comment" spellcheck="true"># (Pascal命名)</span>    <span class="token operator">|</span>   ├── Edit.vue    <span class="token operator">|</span>   └── index.vue    └── Home.vue<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注：api —–&gt; adapter —–&gt; views —–&gt; 同一个页面：这三个文件夹的命名对应一致 或者 api、adapter 与 views 中的文件夹命名一致</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端开发环境配置</title>
      <link href="/2018/07/01/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2018/07/01/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>前端开发环境配置、淘宝镜像及跨域处理</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="开发环境准备工作"><a href="#开发环境准备工作" class="headerlink" title="开发环境准备工作"></a>开发环境准备工作</h2><h3 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h3><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">NodeJS</a> 10版本以上( LTS 版)</li><li>[win]<a href="http://cmder.net" target="_blank" rel="noopener">Cmder</a></li><li><a href="https://code.visualstudio.com" target="_blank" rel="noopener">VS Code</a></li><li>[win]<a href="https://github.com/waylau/git-for-win" target="_blank" rel="noopener">Git</a></li></ul><h3 id="NPM-和-Yarn-添加淘宝镜像"><a href="#NPM-和-Yarn-添加淘宝镜像" class="headerlink" title="NPM 和 Yarn 添加淘宝镜像"></a>NPM 和 Yarn 添加淘宝镜像</h3><h4 id="NPM-设置淘宝镜像"><a href="#NPM-设置淘宝镜像" class="headerlink" title="NPM 设置淘宝镜像"></a>NPM 设置淘宝镜像</h4><ul><li>查询当前配置的镜像</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> get registry<span class="token comment" spellcheck="true"># https://registry.npmjs.org/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>设置成淘宝镜像</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token keyword">set</span> registry http://registry.npm.taobao.org/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>换成原来的</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token keyword">set</span> registry https://registry.npmjs.org/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="用-nrm-管理-npm-镜像"><a href="#用-nrm-管理-npm-镜像" class="headerlink" title="用 nrm 管理 npm 镜像"></a>用 nrm 管理 npm 镜像</h5><h6 id="安装-nrm"><a href="#安装-nrm" class="headerlink" title="安装 nrm"></a>安装 nrm</h6><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> i nrm -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="显示已有的镜像库"><a href="#显示已有的镜像库" class="headerlink" title="显示已有的镜像库"></a>显示已有的镜像库</h6><pre class="line-numbers language-bash"><code class="language-bash">nrm <span class="token function">ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">  <span class="token function">npm</span> -------- https://registry.npmjs.org/  yarn ------- https://registry.yarnpkg.com/  cnpm ------- http://r.cnpmjs.org/* taobao ----- https://registry.npm.taobao.org/  nj --------- https://registry.nodejitsu.com/  npmMirror -- https://skimdb.npmjs.com/registry/  edunpm ----- http://registry.enpmjs.org/  dms -------- http://192.168.10.156:8082/repository/w-npm-group/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="切换镜像库"><a href="#切换镜像库" class="headerlink" title="切换镜像库"></a>切换镜像库</h6><pre class="line-numbers language-bash"><code class="language-bash">nrm use <span class="token operator">&lt;</span>name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="添加内部镜像库"><a href="#添加内部镜像库" class="headerlink" title="添加内部镜像库"></a>添加内部镜像库</h6><pre class="line-numbers language-bash"><code class="language-bash">nrm add <span class="token operator">&lt;</span>name<span class="token operator">></span> <span class="token operator">&lt;</span>url<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Yarn-设置淘宝镜像"><a href="#Yarn-设置淘宝镜像" class="headerlink" title="Yarn 设置淘宝镜像"></a>Yarn 设置淘宝镜像</h4><ul><li>安装 yarn</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g yarn<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>查询当前配置的镜像</li></ul><pre class="line-numbers language-bash"><code class="language-bash">yarn config get registry<span class="token comment" spellcheck="true"># https://registry.yarnpkg.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>设置成淘宝镜像</li></ul><pre class="line-numbers language-bash"><code class="language-bash">yarn config <span class="token keyword">set</span> registry http://registry.npm.taobao.org/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="安装-Vue-React-脚手架-和-eslint"><a href="#安装-Vue-React-脚手架-和-eslint" class="headerlink" title="安装 Vue/React 脚手架 和 eslint"></a>安装 Vue/React 脚手架 和 eslint</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># Vue-cli 2.x</span><span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> yarn global add vue-cli<span class="token comment" spellcheck="true"># Vue-cli 3.x</span><span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> yarn global add @vue/cli<span class="token comment" spellcheck="true"># React</span><span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> yarn global add create-react-app<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> yarn global add eslint<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> yarn global add mocha<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="安装VS-code插件"><a href="#安装VS-code插件" class="headerlink" title="安装VS code插件"></a>安装VS code插件</h3><ul><li><a href="https://www.cnblogs.com/kenz520/p/7416836.html" target="_blank" rel="noopener">Settings Sync 同步插件</a></li><li>Auto Close Tag</li><li>Auto Rename Tag</li><li>ESLint</li><li>HTML Snippets</li><li>JavaScript Standard Format</li><li>language-stylus</li><li>Path Intellisense</li><li>Vetur</li><li>Vue 2 Snippets</li></ul><h3 id="chrome浏览器跨域"><a href="#chrome浏览器跨域" class="headerlink" title="chrome浏览器跨域"></a>chrome浏览器跨域</h3><h4 id="版本号49之前的跨域设置"><a href="#版本号49之前的跨域设置" class="headerlink" title="版本号49之前的跨域设置"></a>版本号49之前的跨域设置</h4><ol><li>下载并安装好chrome浏览器后在桌面找到浏览器快捷图标并点击鼠标右键的属性一栏。</li><li>在属性页面中的目标输入框<code>...exe&quot;</code>后加上 <code>--disable-web-security</code></li><li>点击应用和确定后关闭属性页面，并打开chrome浏览器。</li><li>如果浏览器出现提示“你使用的是不受支持的命令标记–disable-web-security”，那么说明配置成功。</li></ol><h4 id="版本号49之后的chrome跨域设置"><a href="#版本号49之后的chrome跨域设置" class="headerlink" title="版本号49之后的chrome跨域设置"></a>版本号49之后的chrome跨域设置</h4><ol><li>在电脑上新建一个目录，例如：C:\MyChromeDevUserData</li><li>在属性页面中的目标输入框<code>...exe&quot;</code>后加上 <code>--disable-web-security --user-data-dir=C:\MyChromeDevUserData</code>,–user-data-dir的值就是刚才新建的目录。</li><li>点击应用和确定后关闭属性页面，并打开chrome浏览器。</li><li>再次打开chrome，发现有“–disable-web-security”相关的提示，说明chrome又能正常跨域工作了。</li></ol><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li><a href="https://www.jianshu.com/p/f200a75a15d2" target="_blank" rel="noopener">Chai 断言语法</a></li><li><a href="https://log.zvz.im/2016/06/07/Make-your-Nodejs-API-robust/" target="_blank" rel="noopener">如何使用 Mocha, Chai 和 SuperTest 写测试代码</a></li></ul><p>如果报错 <code>error An unexpected error occurred: &quot;https://registry.npm.taobao.org/axios: unable to verify the first certificate&quot;.</code><br>就设置 <code>npm/yarn config set strict-ssl false</code></p>]]></content>
      
      
      <categories>
          
          <category> 前端工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VSCode </tag>
            
            <tag> 淘宝镜像 </tag>
            
            <tag> 跨域 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Yarn 和 NPM 命令</title>
      <link href="/2018/07/01/Yarn%E5%92%8CNPM%E5%91%BD%E4%BB%A4/"/>
      <url>/2018/07/01/Yarn%E5%92%8CNPM%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>Yarn 和 NPM 命令</p><a id="more"></a><!-- markdownlint-disable MD041 MD002--><h2 id="Yarn和-NPM命令"><a href="#Yarn和-NPM命令" class="headerlink" title="Yarn和 NPM命令"></a>Yarn和 NPM命令</h2><ul><li>NPM是随同 NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题</li><li>Yarn 是一个新的包管理器，用于替代现有的 npm 客户端或者其他兼容 npm 仓库的包管理工具。Yarn 保留了现有工作流的特性，优点是更快、更安全、更可靠。</li></ul><table><thead><tr><th>命令</th><th>NPM</th><th>Yarn</th></tr></thead><tbody><tr><td>安装</td><td>新版的NodeJS 已经集成了NPM</td><td><code>npm install -g yarn</code> 或者<a href="https://yarnpkg.com/lang/zh-hans/docs/install/#windows-stable" target="_blank" rel="noopener">通过msi安装升级</a></td></tr><tr><td>升级</td><td><code>npm install npm -g</code></td><td>见<a href="#Yarn安装和升级">Yarn安装和升级</a></td></tr><tr><td>安装所有的依赖包</td><td><code>npm install</code></td><td><code>yarn</code></td></tr><tr><td>安装某个依赖</td><td><code>npm install [package] --save/-S</code></td><td><code>yarn add [package]</code></td></tr><tr><td>安装某个开发时依赖项目</td><td><code>npm install [package] --save-dev/-D</code></td><td><code>yarn add [package] --dev/-D</code></td></tr><tr><td>安装某个全局依赖项目</td><td><code>npm install [package] -g</code></td><td><code>yarn global add [package]</code></td></tr><tr><td>更新某个依赖</td><td><code>npm update [package]</code></td><td><code>yarn upgrade [package]</code></td></tr><tr><td>更新某个依赖到某个版本</td><td><code>npm update [package@version]</code></td><td><code>yarn upgrade [package@version]</code></td></tr><tr><td>更新某个依赖到最新版本</td><td><code>npm update [package@latest]</code></td><td><code>yarn upgrade [package] --latest</code></td></tr><tr><td>删除某个依赖</td><td><code>npm uninstall [package]</code></td><td><code>yarn remove [package]</code></td></tr><tr><td>运行脚本</td><td><code>npm run</code></td><td><code>yarn run</code></td></tr></tbody></table><ul><li>可以通过输入<code>npm -v</code>来测试是否成功安装</li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> -v6.2.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="NPM-常用命令"><a href="#NPM-常用命令" class="headerlink" title="NPM 常用命令"></a>NPM 常用命令</h3><ul><li>NPM提供了很多命令，使用<code>npm help</code>可查看所有命令。</li><li>使用<code>npm help &lt;command&gt;</code>可查看某条命令的详细帮助，例如<code>npm help install</code></li></ul><h3 id="使用淘宝-NPM-镜像"><a href="#使用淘宝-NPM-镜像" class="headerlink" title="使用淘宝 NPM 镜像"></a>使用淘宝 NPM 镜像</h3><p><a href="/2018/07/01/前端开发环境配置/#NPM和Yarn添加淘宝镜像">NPM和 Yarn添加淘宝镜像</a></p><h3 id="Yarn安装和升级"><a href="#Yarn安装和升级" class="headerlink" title="Yarn安装和升级"></a>Yarn安装和升级</h3><h4 id="通过msi安装升级-Yarn"><a href="#通过msi安装升级-Yarn" class="headerlink" title="通过msi安装升级 Yarn"></a>通过msi安装升级 Yarn</h4><p><a href="https://yarnpkg.com/lang/zh-hans/docs/install/#windows-stable" target="_blank" rel="noopener">下载最新的yarn更新包</a></p><ul><li>通过 msi 安装的 yarn 并不会覆盖通过 npm 安装的 yarn，两者同时存在。卸载的话，也是分开卸载的。</li></ul><h4 id="NPM加版本号安装"><a href="#NPM加版本号安装" class="headerlink" title="NPM加版本号安装"></a>NPM加版本号安装</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> yarn -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这样的话，就可以不使用msi，而还是采用更高大上的命令行模式安装最新版的yarn了。<br>我们可以用<code>npm view yarn version</code>，查看NPM上的最新版本号。</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> yarn@最新版本号 -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>在官方给出的<a href="https://yarnpkg.com/zh-Hans/docs/install#alternatives-stable" target="_blank" rel="noopener">备选安装方案</a>中提到</p><blockquote><p>注意: 一般来说, 不推荐通过 npm 安装 Yarn 在用基于 Node 的包管理器安装 Yarn 时，该包未被签名，并且只通过基本的 SHA1 散列进行唯一完整性检查。<br>这在安装系统级应用时有安全风险。<br>因为这些原因，高度推荐用你的操作系统最适合的方式来安装 Yarn。</p></blockquote><h4 id="NPM-加-latest-安装"><a href="#NPM-加-latest-安装" class="headerlink" title="NPM 加 latest 安装"></a>NPM 加 latest 安装</h4><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> yarn@latest -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="更新-package-json-的所有依赖"><a href="#更新-package-json-的所有依赖" class="headerlink" title="更新 package.json 的所有依赖"></a>更新 package.json 的所有依赖</h3><ul><li>安装 <code>npm-check-updates</code></li></ul><pre class="line-numbers language-bash"><code class="language-bash">yarn global add npm-check-updates<span class="token comment" spellcheck="true"># OR</span><span class="token function">npm</span> i npm-check-updates -g<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>手动执行 <code>ncu</code> （或 <code>npm-check-updates</code>）检查更新</li></ul><pre class="line-numbers language-bash"><code class="language-bash">ncu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>更新 <code>dependencies</code> 到新版本</li></ul><pre class="line-numbers language-bash"><code class="language-bash">ncu -u<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>更新全部 <code>dependencies</code> 到最新版本(包括当前指定版本范围满足最新版本号的,比如^4.2.0 -&gt; ^4.3.0)：</li></ul><pre class="line-numbers language-bash"><code class="language-bash">ncu -a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NPM </tag>
            
            <tag> Yarn </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
